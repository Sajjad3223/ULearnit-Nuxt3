<template>
  <aside class="user-sidebar">
    <div class="top flex flex-col items-center w-full">
      <a href="" class="btn absolute top-4 left-4 logout z-20" title="خروج از حساب">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M11.0005 11.75C11.1905 11.75 11.3805 11.68 11.5305 11.53C11.8205 11.24 11.8205 10.76 11.5305 10.47L3.33055 2.26999C3.04055 1.97999 2.56055 1.97999 2.27055 2.26999C1.98055 2.55999 1.98055 3.03999 2.27055 3.32999L10.4705 11.53C10.6205 11.68 10.8105 11.75 11.0005 11.75Z"
              fill="currentColor"/>
          <path
              d="M2.00078 7.55C2.41078 7.55 2.75078 7.21 2.75078 6.8V2.75H6.80078C7.21078 2.75 7.55078 2.41 7.55078 2C7.55078 1.59 7.21078 1.25 6.80078 1.25H2.00078C1.59078 1.25 1.25078 1.59 1.25078 2V6.8C1.25078 7.21 1.59078 7.55 2.00078 7.55Z"
              fill="currentColor"/>
          <path
              d="M9 22.75H15C20.43 22.75 22.75 20.43 22.75 15V9C22.75 3.57 20.43 1.25 15 1.25H13C12.59 1.25 12.25 1.59 12.25 2C12.25 2.41 12.59 2.75 13 2.75H15C19.61 2.75 21.25 4.39 21.25 9V15C21.25 19.61 19.61 21.25 15 21.25H9C4.39 21.25 2.75 19.61 2.75 15V13C2.75 12.59 2.41 12.25 2 12.25C1.59 12.25 1.25 12.59 1.25 13V15C1.25 20.43 3.57 22.75 9 22.75Z"
              fill="currentColor"/>
        </svg>
      </a>
      <div class="user-image w-full grid place-items-center relative overflow-hidden">
        <img :src="getUserAvatar" alt="user image" class="peer w-1/2 rounded-full" v-if="authStore.currentUser?.avatar !== undefined">
        <input type="file" name="userAvatar" id="userAvatar" class="hidden" @input="setUserAvatar">
        <label for="userAvatar"
           class="btn bg-black/50 absolute w-1/2 h-full grid place-items-center opacity-0 peer-hover:opacity-70 hover:opacity-70 transition rounded-full cursor-pointer">
          <svg class="scale-125" width="24" height="24" viewBox="0 0 24 24" fill="none"
               xmlns="http://www.w3.org/2000/svg">
            <path
                d="M5.53999 19.5201C4.92999 19.5201 4.35999 19.31 3.94999 18.92C3.42999 18.43 3.17999 17.69 3.26999 16.89L3.63999 13.65C3.70999 13.04 4.07999 12.23 4.50999 11.79L12.72 3.10005C14.77 0.930049 16.91 0.870049 19.08 2.92005C21.25 4.97005 21.31 7.11005 19.26 9.28005L11.05 17.97C10.63 18.42 9.84999 18.84 9.23999 18.9401L6.01999 19.49C5.84999 19.5 5.69999 19.5201 5.53999 19.5201ZM15.93 2.91005C15.16 2.91005 14.49 3.39005 13.81 4.11005L5.59999 12.8101C5.39999 13.0201 5.16999 13.5201 5.12999 13.8101L4.75999 17.05C4.71999 17.38 4.79999 17.65 4.97999 17.82C5.15999 17.99 5.42999 18.05 5.75999 18L8.97999 17.4501C9.26999 17.4001 9.74999 17.14 9.94999 16.93L18.16 8.24005C19.4 6.92005 19.85 5.70005 18.04 4.00005C17.24 3.23005 16.55 2.91005 15.93 2.91005Z"
                fill="currentColor"/>
            <path
                d="M17.3404 10.9498C17.3204 10.9498 17.2904 10.9498 17.2704 10.9498C14.1504 10.6398 11.6404 8.26985 11.1604 5.16985C11.1004 4.75985 11.3804 4.37985 11.7904 4.30985C12.2004 4.24985 12.5804 4.52985 12.6504 4.93985C13.0304 7.35985 14.9904 9.21985 17.4304 9.45985C17.8404 9.49985 18.1404 9.86985 18.1004 10.2798C18.0504 10.6598 17.7204 10.9498 17.3404 10.9498Z"
                fill="currentColor"/>
            <path
                d="M21 22.75H3C2.59 22.75 2.25 22.41 2.25 22C2.25 21.59 2.59 21.25 3 21.25H21C21.41 21.25 21.75 21.59 21.75 22C21.75 22.41 21.41 22.75 21 22.75Z"
                fill="currentColor"/>
          </svg>
        </label>
      </div>
      <div class="name flex items-center">
        <span>{{ authStore.currentUser?.fullName }}</span>
        <NuxtLink to="/userpanel/userInformation" class="btn btn-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M5.53999 19.5201C4.92999 19.5201 4.35999 19.31 3.94999 18.92C3.42999 18.43 3.17999 17.69 3.26999 16.89L3.63999 13.65C3.70999 13.04 4.07999 12.23 4.50999 11.79L12.72 3.10005C14.77 0.930049 16.91 0.870049 19.08 2.92005C21.25 4.97005 21.31 7.11005 19.26 9.28005L11.05 17.97C10.63 18.42 9.84999 18.84 9.23999 18.9401L6.01999 19.49C5.84999 19.5 5.69999 19.5201 5.53999 19.5201ZM15.93 2.91005C15.16 2.91005 14.49 3.39005 13.81 4.11005L5.59999 12.8101C5.39999 13.0201 5.16999 13.5201 5.12999 13.8101L4.75999 17.05C4.71999 17.38 4.79999 17.65 4.97999 17.82C5.15999 17.99 5.42999 18.05 5.75999 18L8.97999 17.4501C9.26999 17.4001 9.74999 17.14 9.94999 16.93L18.16 8.24005C19.4 6.92005 19.85 5.70005 18.04 4.00005C17.24 3.23005 16.55 2.91005 15.93 2.91005Z"
                fill="currentColor"/>
            <path
                d="M17.3404 10.9498C17.3204 10.9498 17.2904 10.9498 17.2704 10.9498C14.1504 10.6398 11.6404 8.26985 11.1604 5.16985C11.1004 4.75985 11.3804 4.37985 11.7904 4.30985C12.2004 4.24985 12.5804 4.52985 12.6504 4.93985C13.0304 7.35985 14.9904 9.21985 17.4304 9.45985C17.8404 9.49985 18.1404 9.86985 18.1004 10.2798C18.0504 10.6598 17.7204 10.9498 17.3404 10.9498Z"
                fill="currentColor"/>
            <path
                d="M21 22.75H3C2.59 22.75 2.25 22.41 2.25 22C2.25 21.59 2.59 21.25 3 21.25H21C21.41 21.25 21.75 21.59 21.75 22C21.75 22.41 21.41 22.75 21 22.75Z"
                fill="currentColor"/>
          </svg>
        </NuxtLink>
      </div>
    </div>
    <hr class="my-4 opacity-50">
    <ul class="options">
      <li>
        <NuxtLink to="/userpanel" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M17.79 22.75H6.21C3.47 22.75 1.25 20.52 1.25 17.78V10.37C1.25 9.00997 2.09 7.29997 3.17 6.45997L8.56 2.25997C10.18 0.999974 12.77 0.939974 14.45 2.11997L20.63 6.44997C21.82 7.27997 22.75 9.05997 22.75 10.51V17.79C22.75 20.52 20.53 22.75 17.79 22.75ZM9.48 3.43997L4.09 7.63997C3.38 8.19997 2.75 9.46997 2.75 10.37V17.78C2.75 19.69 4.3 21.25 6.21 21.25H17.79C19.7 21.25 21.25 19.7 21.25 17.79V10.51C21.25 9.54997 20.56 8.21997 19.77 7.67997L13.59 3.34997C12.45 2.54997 10.57 2.58997 9.48 3.43997Z"
                fill="currentColor"/>
            <path
                d="M12 18.75C11.59 18.75 11.25 18.41 11.25 18V15C11.25 14.59 11.59 14.25 12 14.25C12.41 14.25 12.75 14.59 12.75 15V18C12.75 18.41 12.41 18.75 12 18.75Z"
                fill="currentColor"/>
          </svg>
          <span>داشبورد</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/userInformation" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M12 12.75C8.83 12.75 6.25 10.17 6.25 7C6.25 3.83 8.83 1.25 12 1.25C15.17 1.25 17.75 3.83 17.75 7C17.75 10.17 15.17 12.75 12 12.75ZM12 2.75C9.66 2.75 7.75 4.66 7.75 7C7.75 9.34 9.66 11.25 12 11.25C14.34 11.25 16.25 9.34 16.25 7C16.25 4.66 14.34 2.75 12 2.75Z"
                fill="currentColor"/>
            <path
                d="M20.5901 22.75C20.1801 22.75 19.8401 22.41 19.8401 22C19.8401 18.55 16.3202 15.75 12.0002 15.75C7.68015 15.75 4.16016 18.55 4.16016 22C4.16016 22.41 3.82016 22.75 3.41016 22.75C3.00016 22.75 2.66016 22.41 2.66016 22C2.66016 17.73 6.85015 14.25 12.0002 14.25C17.1502 14.25 21.3401 17.73 21.3401 22C21.3401 22.41 21.0001 22.75 20.5901 22.75Z"
                fill="currentColor"/>
          </svg>
          <span>اطلاعات حساب کاربری</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/courses" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M12 22.08C11.7 22.08 11.4 22.01 11.15 21.87C9.28 20.85 5.99 19.77 3.93 19.5L3.64 19.46C2.33 19.3 1.25 18.07 1.25 16.74V4.66001C1.25 3.87001 1.56 3.15001 2.13 2.63001C2.7 2.11001 3.44 1.86001 4.22 1.93001C6.42 2.10001 9.74 3.20001 11.62 4.38001L11.86 4.52001C11.93 4.56001 12.08 4.56001 12.14 4.53001L12.3 4.43001C14.18 3.25001 17.5 2.13001 19.71 1.94001C19.73 1.94001 19.81 1.94001 19.83 1.94001C20.56 1.87001 21.31 2.13001 21.87 2.65001C22.44 3.17001 22.75 3.89001 22.75 4.68001V16.75C22.75 18.09 21.67 19.31 20.35 19.47L20.02 19.51C17.96 19.78 14.66 20.87 12.83 21.88C12.59 22.02 12.3 22.08 12 22.08ZM3.98 3.42001C3.66 3.42001 3.37 3.53001 3.14 3.74001C2.89 3.97001 2.75 4.30001 2.75 4.66001V16.74C2.75 17.33 3.26 17.9 3.83 17.98L4.13 18.02C6.38 18.32 9.83 19.45 11.83 20.54C11.92 20.58 12.05 20.59 12.1 20.57C14.1 19.46 17.57 18.32 19.83 18.02L20.17 17.98C20.74 17.91 21.25 17.33 21.25 16.74V4.67001C21.25 4.30001 21.11 3.98001 20.86 3.74001C20.6 3.51001 20.27 3.40001 19.9 3.42001C19.88 3.42001 19.8 3.42001 19.78 3.42001C17.87 3.59001 14.79 4.62001 13.11 5.67001L12.95 5.78001C12.4 6.12001 11.62 6.12001 11.09 5.79001L10.85 5.65001C9.14 4.60001 6.06 3.58001 4.1 3.42001C4.06 3.42001 4.02 3.42001 3.98 3.42001Z"
                fill="currentColor"/>
            <path
                d="M12 21.24C11.59 21.24 11.25 20.9 11.25 20.49V5.48999C11.25 5.07999 11.59 4.73999 12 4.73999C12.41 4.73999 12.75 5.07999 12.75 5.48999V20.49C12.75 20.91 12.41 21.24 12 21.24Z"
                fill="currentColor"/>
            <path
                d="M7.75 9.23999H5.5C5.09 9.23999 4.75 8.89999 4.75 8.48999C4.75 8.07999 5.09 7.73999 5.5 7.73999H7.75C8.16 7.73999 8.5 8.07999 8.5 8.48999C8.5 8.89999 8.16 9.23999 7.75 9.23999Z"
                fill="currentColor"/>
            <path
                d="M8.5 12.24H5.5C5.09 12.24 4.75 11.9 4.75 11.49C4.75 11.08 5.09 10.74 5.5 10.74H8.5C8.91 10.74 9.25 11.08 9.25 11.49C9.25 11.9 8.91 12.24 8.5 12.24Z"
                fill="currentColor"/>
          </svg>
          <span>دوره های من</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/wallet" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M5.1997 10.4599C5.0097 10.4599 4.8097 10.3799 4.6697 10.2399C4.4597 10.0199 4.3897 9.69988 4.5097 9.41988L6.3697 4.97988C6.4097 4.88988 6.4297 4.82988 6.4597 4.77988C7.9397 1.36988 9.8297 0.539877 13.1697 1.81988C13.3597 1.88988 13.5097 2.03988 13.5897 2.22988C13.6697 2.41988 13.6697 2.62988 13.5897 2.81988L10.6597 9.61988C10.5397 9.89988 10.2697 10.0699 9.9697 10.0699H7.1197C6.5497 10.0699 6.0097 10.1799 5.4897 10.3999C5.3997 10.4399 5.2997 10.4599 5.1997 10.4599ZM10.6097 2.74988C9.3697 2.74988 8.6097 3.55988 7.8197 5.39988C7.8097 5.42988 7.7897 5.45988 7.7797 5.48988L6.4697 8.59988C6.6897 8.57988 6.8997 8.56988 7.1197 8.56988H9.4697L11.8797 2.96988C11.4097 2.81988 10.9897 2.74988 10.6097 2.74988Z"
                fill="currentColor"/>
            <path
                d="M18.2902 10.2702C18.2202 10.2702 18.1402 10.2602 18.0702 10.2402C17.6902 10.1302 17.2902 10.0702 16.8702 10.0702H9.97023C9.72023 10.0702 9.48023 9.94024 9.34023 9.73024C9.21023 9.52024 9.18023 9.25024 9.28023 9.02024L12.1802 2.29024C12.3302 1.93024 12.7702 1.68024 13.1402 1.81024C13.2602 1.85024 13.3702 1.90024 13.4902 1.95024L15.8502 2.94024C17.2302 3.51024 18.1502 4.11024 18.7502 4.83024C18.8702 4.97024 18.9702 5.12024 19.0702 5.28024C19.1802 5.45024 19.2802 5.65024 19.3502 5.86024C19.3802 5.93024 19.4302 6.06024 19.4602 6.20024C19.7402 7.15024 19.6002 8.31024 19.0002 9.81024C18.8702 10.0902 18.5902 10.2702 18.2902 10.2702ZM11.1102 8.57024H16.8802C17.2002 8.57024 17.5102 8.60024 17.8202 8.65024C18.1002 7.78024 18.1602 7.11024 18.0002 6.57024C17.9802 6.48024 17.9602 6.44024 17.9502 6.40024C17.8902 6.24024 17.8502 6.15024 17.8002 6.07024C17.7302 5.96024 17.6802 5.87024 17.6002 5.78024C17.1702 5.26024 16.4102 4.78024 15.2702 4.31024L13.3002 3.49024L11.1102 8.57024Z"
                fill="currentColor"/>
            <path
                d="M15.9 22.7498H8.1C7.82 22.7498 7.56 22.7298 7.3 22.6998C3.79 22.4698 1.79 20.4598 1.55 16.9098C1.52 16.6898 1.5 16.4198 1.5 16.1498V14.1998C1.5 11.9498 2.84 9.91982 4.91 9.01982C5.62 8.71982 6.36 8.56982 7.13 8.56982H16.89C17.46 8.56982 18.01 8.64982 18.52 8.80982C20.87 9.51982 22.52 11.7398 22.52 14.1998V16.1498C22.52 16.3698 22.51 16.5798 22.5 16.7798C22.28 20.6898 20 22.7498 15.9 22.7498ZM7.12 10.0698C6.55 10.0698 6.01 10.1798 5.49 10.3998C3.97 11.0598 2.99 12.5498 2.99 14.1998V16.1498C2.99 16.3598 3.01 16.5698 3.03 16.7698C3.22 19.6198 4.62 21.0198 7.43 21.2098C7.68 21.2398 7.88 21.2598 8.09 21.2598H15.89C19.19 21.2598 20.81 19.8098 20.97 16.7098C20.98 16.5298 20.99 16.3498 20.99 16.1498V14.1998C20.99 12.3898 19.78 10.7698 18.06 10.2398C17.68 10.1298 17.28 10.0698 16.86 10.0698H7.12Z"
                fill="currentColor"/>
            <path
                d="M2.24023 14.9498C1.83023 14.9498 1.49023 14.6098 1.49023 14.1998V11.2698C1.49023 8.1198 3.72023 5.3998 6.80023 4.7998C7.07023 4.7498 7.35023 4.8498 7.53023 5.0598C7.70023 5.2698 7.75023 5.5698 7.64023 5.8198L5.89023 9.9998C5.81023 10.1798 5.67023 10.3198 5.50023 10.3998C3.98023 11.0598 3.00023 12.5498 3.00023 14.1998C2.99023 14.6098 2.66023 14.9498 2.24023 14.9498ZM5.60023 6.8198C4.32023 7.5398 3.39023 8.7998 3.10023 10.2698C3.54023 9.8198 4.05023 9.4398 4.63023 9.1598L5.60023 6.8198Z"
                fill="currentColor"/>
            <path
                d="M21.7592 14.9498C21.3492 14.9498 21.0092 14.6098 21.0092 14.1998C21.0092 12.3898 19.7992 10.7698 18.0792 10.2398C17.8792 10.1798 17.7092 10.0398 17.6192 9.84978C17.5292 9.65978 17.5192 9.43978 17.5992 9.24978C18.0692 8.07978 18.1892 7.22978 17.9992 6.56978C17.9792 6.47978 17.9592 6.43978 17.9492 6.39978C17.8192 6.10978 17.8892 5.76978 18.1192 5.54978C18.3492 5.32978 18.6992 5.27978 18.9792 5.42978C21.1592 6.56978 22.5092 8.80978 22.5092 11.2698V14.1998C22.5092 14.6098 22.1692 14.9498 21.7592 14.9498ZM19.2492 9.08978C19.8792 9.37978 20.4392 9.78978 20.9092 10.2798C20.7192 9.29978 20.2492 8.40978 19.5592 7.70978C19.5092 8.12978 19.4092 8.58978 19.2492 9.08978Z"
                fill="currentColor"/>
          </svg>
          <span>کیف پول من</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/factors" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M19.42 11.75H16C15.59 11.75 15.25 11.41 15.25 11V4.01C15.25 3.27 15.54 2.58 16.06 2.06C16.58 1.54 17.27 1.25 18.01 1.25H18.02C19.27 1.26 20.45 1.75 21.35 2.64C22.25 3.55 22.74 4.75 22.74 6V8.42C22.75 10.41 21.41 11.75 19.42 11.75ZM16.75 10.25H19.42C20.58 10.25 21.25 9.58 21.25 8.42V6C21.25 5.14 20.91 4.32 20.3 3.7C19.69 3.1 18.88 2.76 18.02 2.75C18.02 2.75 18.02 2.75 18.01 2.75C17.68 2.75 17.36 2.88 17.12 3.12C16.88 3.36 16.75 3.67 16.75 4.01V10.25Z"
                fill="currentColor"/>
            <path
                d="M8.99976 23.33C8.52976 23.33 8.08977 23.15 7.75977 22.81L6.09973 21.14C6.00973 21.05 5.86978 21.04 5.76978 21.12L4.05975 22.4C3.52975 22.8 2.82974 22.87 2.22974 22.57C1.62974 22.27 1.25977 21.67 1.25977 21V6C1.25977 2.98 2.98977 1.25 6.00977 1.25H18.0098C18.4198 1.25 18.7598 1.59 18.7598 2C18.7598 2.41 18.4198 2.75 18.0098 2.75C17.3198 2.75 16.7598 3.31 16.7598 4V21C16.7598 21.67 16.3897 22.27 15.7897 22.57C15.1997 22.87 14.4898 22.8 13.9598 22.4L12.2498 21.12C12.1498 21.04 12.0097 21.06 11.9297 21.14L10.2498 22.82C9.90976 23.15 9.46976 23.33 8.99976 23.33ZM5.90973 19.57C6.36973 19.57 6.81973 19.74 7.15973 20.09L8.81976 21.76C8.87976 21.82 8.95976 21.83 8.99976 21.83C9.03976 21.83 9.11975 21.82 9.17975 21.76L10.8597 20.08C11.4797 19.46 12.4598 19.4 13.1498 19.93L14.8497 21.2C14.9597 21.28 15.0597 21.25 15.1097 21.22C15.1597 21.19 15.2498 21.13 15.2498 21V4C15.2498 3.55 15.3597 3.12 15.5497 2.75H5.99976C3.77976 2.75 2.74976 3.78 2.74976 6V21C2.74976 21.14 2.83977 21.2 2.88977 21.23C2.94977 21.26 3.04978 21.28 3.14978 21.2L4.85974 19.92C5.16974 19.69 5.53973 19.57 5.90973 19.57Z"
                fill="currentColor"/>
            <path
                d="M12 9.75H6C5.59 9.75 5.25 9.41 5.25 9C5.25 8.59 5.59 8.25 6 8.25H12C12.41 8.25 12.75 8.59 12.75 9C12.75 9.41 12.41 9.75 12 9.75Z"
                fill="currentColor"/>
            <path
                d="M11.25 13.75H6.75C6.34 13.75 6 13.41 6 13C6 12.59 6.34 12.25 6.75 12.25H11.25C11.66 12.25 12 12.59 12 13C12 13.41 11.66 13.75 11.25 13.75Z"
                fill="currentColor"/>
          </svg>
          <span>فاکتور ها</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/tickets" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M17 20.75H7C2.59 20.75 1.25 19.41 1.25 15V14.5C1.25 14.09 1.59 13.75 2 13.75C2.96 13.75 3.75 12.96 3.75 12C3.75 11.04 2.96 10.25 2 10.25C1.59 10.25 1.25 9.91 1.25 9.5V9C1.25 4.59 2.59 3.25 7 3.25H17C21.41 3.25 22.75 4.59 22.75 9V10C22.75 10.41 22.41 10.75 22 10.75C21.04 10.75 20.25 11.54 20.25 12.5C20.25 13.46 21.04 14.25 22 14.25C22.41 14.25 22.75 14.59 22.75 15C22.75 19.41 21.41 20.75 17 20.75ZM2.75 15.16C2.77 18.6 3.48 19.25 7 19.25H17C20.34 19.25 21.15 18.66 21.24 15.66C19.81 15.32 18.75 14.03 18.75 12.5C18.75 10.97 19.82 9.68 21.25 9.34V9C21.25 5.43 20.58 4.75 17 4.75H7C3.48 4.75 2.77 5.4 2.75 8.84C4.18 9.18 5.25 10.47 5.25 12C5.25 13.53 4.18 14.82 2.75 15.16Z"
                fill="currentColor"/>
            <path
                d="M10 7.25C9.59 7.25 9.25 6.91 9.25 6.5V4C9.25 3.59 9.59 3.25 10 3.25C10.41 3.25 10.75 3.59 10.75 4V6.5C10.75 6.91 10.41 7.25 10 7.25Z"
                fill="currentColor"/>
            <path
                d="M10 14.5802C9.59 14.5802 9.25 14.2402 9.25 13.8302V10.1602C9.25 9.75016 9.59 9.41016 10 9.41016C10.41 9.41016 10.75 9.75016 10.75 10.1602V13.8302C10.75 14.2502 10.41 14.5802 10 14.5802Z"
                fill="currentColor"/>
            <path
                d="M10 20.75C9.59 20.75 9.25 20.41 9.25 20V17.5C9.25 17.09 9.59 16.75 10 16.75C10.41 16.75 10.75 17.09 10.75 17.5V20C10.75 20.41 10.41 20.75 10 20.75Z"
                fill="currentColor"/>
          </svg>
          <span>تیکت ها</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/favorites" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M12 21.6501C11.69 21.6501 11.39 21.6101 11.14 21.5201C7.32 20.2101 1.25 15.5601 1.25 8.6901C1.25 5.1901 4.08 2.3501 7.56 2.3501C9.25 2.3501 10.83 3.0101 12 4.1901C13.17 3.0101 14.75 2.3501 16.44 2.3501C19.92 2.3501 22.75 5.2001 22.75 8.6901C22.75 15.5701 16.68 20.2101 12.86 21.5201C12.61 21.6101 12.31 21.6501 12 21.6501ZM7.56 3.8501C4.91 3.8501 2.75 6.0201 2.75 8.6901C2.75 15.5201 9.32 19.3201 11.63 20.1101C11.81 20.1701 12.2 20.1701 12.38 20.1101C14.68 19.3201 21.26 15.5301 21.26 8.6901C21.26 6.0201 19.1 3.8501 16.45 3.8501C14.93 3.8501 13.52 4.5601 12.61 5.7901C12.33 6.1701 11.69 6.1701 11.41 5.7901C10.48 4.5501 9.08 3.8501 7.56 3.8501Z"
                fill="currentColor"/>
          </svg>
          <span>علاقه مندی ها</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/questions" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7Z"
                fill="currentColor"/>
            <path
                d="M11.9998 12.1099C11.5898 12.1099 11.2498 11.7699 11.2498 11.3599V11.1499C11.2498 9.9899 12.0998 9.41989 12.4198 9.19989C12.7898 8.94989 12.9098 8.7799 12.9098 8.5199C12.9098 8.0199 12.4998 7.60986 11.9998 7.60986C11.4998 7.60986 11.0898 8.0199 11.0898 8.5199C11.0898 8.9299 10.7498 9.2699 10.3398 9.2699C9.92984 9.2699 9.58984 8.9299 9.58984 8.5199C9.58984 7.1899 10.6698 6.10986 11.9998 6.10986C13.3298 6.10986 14.4098 7.1899 14.4098 8.5199C14.4098 9.6599 13.5698 10.2299 13.2598 10.4399C12.8698 10.6999 12.7498 10.8699 12.7498 11.1499V11.3599C12.7498 11.7799 12.4098 12.1099 11.9998 12.1099Z"
                fill="currentColor"/>
            <path
                d="M12 14.6001C11.58 14.6001 11.25 14.2601 11.25 13.8501C11.25 13.4401 11.59 13.1001 12 13.1001C12.41 13.1001 12.75 13.4401 12.75 13.8501C12.75 14.2601 12.42 14.6001 12 14.6001Z"
                fill="currentColor"/>
          </svg>
          <span>پرسش ها</span>
        </NuxtLink>
      </li>
      <li>
        <NuxtLink to="/userpanel/messages" class="option" exact-active-class="active">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.0199 20.5299C9.68987 20.5299 7.35987 20.1599 5.14987 19.4199C4.30987 19.1299 3.66987 18.5399 3.38987 17.7699C3.09987 16.9999 3.19987 16.1499 3.65987 15.3899L4.80987 13.4799C5.04987 13.0799 5.26987 12.2799 5.26987 11.8099V8.91992C5.26987 5.19992 8.29987 2.16992 12.0199 2.16992C15.7399 2.16992 18.7699 5.19992 18.7699 8.91992V11.8099C18.7699 12.2699 18.9899 13.0799 19.2299 13.4899L20.3699 15.3899C20.7999 16.1099 20.8799 16.9799 20.5899 17.7699C20.2999 18.5599 19.6699 19.1599 18.8799 19.4199C16.6799 20.1599 14.3499 20.5299 12.0199 20.5299ZM12.0199 3.66992C9.12987 3.66992 6.76987 6.01992 6.76987 8.91992V11.8099C6.76987 12.5399 6.46987 13.6199 6.09987 14.2499L4.94987 16.1599C4.72987 16.5299 4.66987 16.9199 4.79987 17.2499C4.91987 17.5899 5.21987 17.8499 5.62987 17.9899C9.80987 19.3899 14.2399 19.3899 18.4199 17.9899C18.7799 17.8699 19.0599 17.5999 19.1899 17.2399C19.3199 16.8799 19.2899 16.4899 19.0899 16.1599L17.9399 14.2499C17.5599 13.5999 17.2699 12.5299 17.2699 11.7999V8.91992C17.2699 6.01992 14.9199 3.66992 12.0199 3.66992Z" fill="currentColor"/>
            <path d="M13.8796 3.94018C13.8096 3.94018 13.7396 3.93018 13.6696 3.91018C13.3796 3.83018 13.0996 3.77018 12.8296 3.73018C11.9796 3.62018 11.1596 3.68018 10.3896 3.91018C10.1096 4.00018 9.80963 3.91018 9.61963 3.70018C9.42963 3.49018 9.36963 3.19018 9.47963 2.92018C9.88963 1.87018 10.8896 1.18018 12.0296 1.18018C13.1696 1.18018 14.1696 1.86018 14.5796 2.92018C14.6796 3.19018 14.6296 3.49018 14.4396 3.70018C14.2896 3.86018 14.0796 3.94018 13.8796 3.94018Z" fill="currentColor"/>
            <path d="M12.0195 22.8101C11.0295 22.8101 10.0695 22.4101 9.36953 21.7101C8.66953 21.0101 8.26953 20.0501 8.26953 19.0601H9.76953C9.76953 19.6501 10.0095 20.2301 10.4295 20.6501C10.8495 21.0701 11.4295 21.3101 12.0195 21.3101C13.2595 21.3101 14.2695 20.3001 14.2695 19.0601H15.7695C15.7695 21.1301 14.0895 22.8101 12.0195 22.8101Z" fill="currentColor"/>
          </svg>
          <span>اطلاعیه ها</span>
        </NuxtLink>
      </li>
      <li >
        <NuxtLink @click="signOut" to="#" class="option">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M17.4409 15.3699C17.2509 15.3699 17.0609 15.2999 16.9109 15.1499C16.6209 14.8599 16.6209 14.3799 16.9109 14.0899L18.9409 12.0599L16.9109 10.0299C16.6209 9.73994 16.6209 9.25994 16.9109 8.96994C17.2009 8.67994 17.6809 8.67994 17.9709 8.96994L20.5309 11.5299C20.8209 11.8199 20.8209 12.2999 20.5309 12.5899L17.9709 15.1499C17.8209 15.2999 17.6309 15.3699 17.4409 15.3699Z"
                fill="currentColor"/>
            <path
                d="M19.9298 12.8101H9.75977C9.34977 12.8101 9.00977 12.4701 9.00977 12.0601C9.00977 11.6501 9.34977 11.3101 9.75977 11.3101H19.9298C20.3398 11.3101 20.6798 11.6501 20.6798 12.0601C20.6798 12.4701 20.3398 12.8101 19.9298 12.8101Z"
                fill="currentColor"/>
            <path
                d="M11.7598 20.75C6.60977 20.75 3.00977 17.15 3.00977 12C3.00977 6.85 6.60977 3.25 11.7598 3.25C12.1698 3.25 12.5098 3.59 12.5098 4C12.5098 4.41 12.1698 4.75 11.7598 4.75C7.48977 4.75 4.50977 7.73 4.50977 12C4.50977 16.27 7.48977 19.25 11.7598 19.25C12.1698 19.25 12.5098 19.59 12.5098 20C12.5098 20.41 12.1698 20.75 11.7598 20.75Z"
                fill="currentColor"/>
          </svg>
          <span>خروج</span>
        </NuxtLink>
      </li>
    </ul>
    <user-master-sidebar v-if="isMaster"/>
  </aside>
</template>

<script setup lang="ts">
import {useAuthStore} from "~/stores/authStore";
import {SetAvatar} from "~/services/user.service";
import {ApiUrl} from "~/utilities/ApiUrls";

const authStore = useAuthStore();

const setUserAvatar=async (e: any)=>{
  const avatar = new FormData();
  if (e.target.files[0] != undefined) {
    avatar.append("avatar", e.target.files[0]);
  }
  const result = await SetAvatar(avatar);
  if(result.isSuccess)
  {
    await authStore.setCurrentUser();
    //Toast
  }
  else{
    //Toast
  }
}

const signOut = ()=>{
  authStore.logOut();
  navigateTo('/');
}

const isMaster = computed(()=>authStore.currentUser?.roles.some( r=>r.roleTitle === "ادمین" || r.roleTitle === "مدرس"));

const getUserAvatar = computed(()=>`${ApiUrl}/user/avatars/${authStore.currentUser?.avatar}`);
</script>
